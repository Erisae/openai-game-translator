************* Module CONTRIBUTING
CONTRIBUTING.md:1:0: C0103: Module name "CONTRIBUTING" doesn't conform to snake_case naming style (invalid-name)
CONTRIBUTING.md:1:0: C0114: Missing module docstring (missing-module-docstring)
CONTRIBUTING.md:1:0: W0104: Statement seems to have no effect (pointless-statement)
CONTRIBUTING.md:1:0: E0602: Undefined variable 'TODO' (undefined-variable)
************* Module LICENSE
LICENSE:1:33: E0001: unexpected indent (<unknown>, line 1) (syntax-error)
************* Module README
README.md:2:9: E0001: invalid syntax (<unknown>, line 2) (syntax-error)
************* Module audio.record
audio/record.py:6:0: E0401: Unable to import 'pyaudio' (import-error)
audio/record.py:13:0: R0902: Too many instance attributes (8/7) (too-many-instance-attributes)
audio/record.py:19:4: R0913: Too many arguments (8/5) (too-many-arguments)
************* Module aws_streaming_transcription.live_stream
aws_streaming_transcription/live_stream.py:18:29: C0303: Trailing whitespace (trailing-whitespace)
aws_streaming_transcription/live_stream.py:46:0: C0303: Trailing whitespace (trailing-whitespace)
aws_streaming_transcription/live_stream.py:74:0: C0303: Trailing whitespace (trailing-whitespace)
aws_streaming_transcription/live_stream.py:76:0: C0303: Trailing whitespace (trailing-whitespace)
aws_streaming_transcription/live_stream.py:87:0: C0305: Trailing newlines (trailing-newlines)
aws_streaming_transcription/live_stream.py:1:0: C0114: Missing module docstring (missing-module-docstring)
aws_streaming_transcription/live_stream.py:2:0: E0401: Unable to import 'sounddevice' (import-error)
aws_streaming_transcription/live_stream.py:6:0: E0401: Unable to import 'amazon_transcribe.client' (import-error)
aws_streaming_transcription/live_stream.py:7:0: E0401: Unable to import 'amazon_transcribe.handlers' (import-error)
aws_streaming_transcription/live_stream.py:8:0: E0401: Unable to import 'amazon_transcribe.model' (import-error)
aws_streaming_transcription/live_stream.py:10:0: W0105: String statement has no effect (pointless-string-statement)
aws_streaming_transcription/live_stream.py:15:0: C0115: Missing class docstring (missing-class-docstring)
aws_streaming_transcription/live_stream.py:21:4: C0116: Missing function or method docstring (missing-function-docstring)
aws_streaming_transcription/live_stream.py:15:0: R0903: Too few public methods (1/2) (too-few-public-methods)
aws_streaming_transcription/live_stream.py:31:0: C0103: Argument name "a" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/live_stream.py:31:0: C0103: Argument name "b" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/live_stream.py:31:0: C0116: Missing function or method docstring (missing-function-docstring)
aws_streaming_transcription/live_stream.py:34:0: C0116: Missing function or method docstring (missing-function-docstring)
aws_streaming_transcription/live_stream.py:36:4: C0103: Variable name "s" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/live_stream.py:40:12: C0103: Variable name "s" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/live_stream.py:44:4: C0103: Variable name "s" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/live_stream.py:49:0: C0116: Missing function or method docstring (missing-function-docstring)
aws_streaming_transcription/live_stream.py:82:4: C0103: Variable name "s" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/live_stream.py:5:0: C0411: standard import "from difflib import SequenceMatcher" should be placed before "import sounddevice as sd" (wrong-import-order)
************* Module aws_streaming_transcription.prerecorded_stream
aws_streaming_transcription/prerecorded_stream.py:4:73: C0303: Trailing whitespace (trailing-whitespace)
aws_streaming_transcription/prerecorded_stream.py:5:0: C0301: Line too long (109/100) (line-too-long)
aws_streaming_transcription/prerecorded_stream.py:41:29: C0303: Trailing whitespace (trailing-whitespace)
aws_streaming_transcription/prerecorded_stream.py:13:0: E0401: Unable to import 'aiofile' (import-error)
aws_streaming_transcription/prerecorded_stream.py:16:0: E0401: Unable to import 'amazon_transcribe.client' (import-error)
aws_streaming_transcription/prerecorded_stream.py:17:0: E0401: Unable to import 'amazon_transcribe.handlers' (import-error)
aws_streaming_transcription/prerecorded_stream.py:18:0: E0401: Unable to import 'amazon_transcribe.model' (import-error)
aws_streaming_transcription/prerecorded_stream.py:19:0: E0401: Unable to import 'amazon_transcribe.utils' (import-error)
aws_streaming_transcription/prerecorded_stream.py:21:0: W0105: String statement has no effect (pointless-string-statement)
aws_streaming_transcription/prerecorded_stream.py:38:0: C0115: Missing class docstring (missing-class-docstring)
aws_streaming_transcription/prerecorded_stream.py:44:4: C0116: Missing function or method docstring (missing-function-docstring)
aws_streaming_transcription/prerecorded_stream.py:38:0: R0903: Too few public methods (1/2) (too-few-public-methods)
aws_streaming_transcription/prerecorded_stream.py:54:0: C0103: Argument name "a" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/prerecorded_stream.py:54:0: C0103: Argument name "b" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/prerecorded_stream.py:54:0: C0116: Missing function or method docstring (missing-function-docstring)
aws_streaming_transcription/prerecorded_stream.py:57:0: C0116: Missing function or method docstring (missing-function-docstring)
aws_streaming_transcription/prerecorded_stream.py:59:4: C0103: Variable name "s" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/prerecorded_stream.py:63:12: C0103: Variable name "s" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/prerecorded_stream.py:67:4: C0103: Variable name "s" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/prerecorded_stream.py:71:0: C0116: Missing function or method docstring (missing-function-docstring)
aws_streaming_transcription/prerecorded_stream.py:97:4: C0103: Variable name "s" doesn't conform to snake_case naming style (invalid-name)
aws_streaming_transcription/prerecorded_stream.py:15:0: C0411: standard import "from difflib import SequenceMatcher" should be placed before "import aiofile" (wrong-import-order)
************* Module game_translator
game_translator.py:129:1: W0511: todo: language change (fixme)
game_translator.py:130:1: W0511: todo: precision (fixme)
game_translator.py:131:1: W0511: todo: audio transmitting (fixme)
game_translator.py:14:0: E0401: Unable to import 'openai' (import-error)
game_translator.py:39:0: C0103: Class name "gameTranslator" doesn't conform to PascalCase naming style (invalid-name)
game_translator.py:45:4: R0913: Too many arguments (8/5) (too-many-arguments)
game_translator.py:94:4: R0201: Method could be a function (no-self-use)
************* Module openai_translation.chat
openai_translation/chat.py:13:0: E0401: Unable to import 'openai' (import-error)
************* Module test
test/__init__.py:1:0: F0010: error while code parsing: Unable to load file test/__init__.py:
[Errno 2] No such file or directory: 'test/__init__.py' (parse-error)
************* Module xunfei_speed_transcription.ost_fast
xunfei_speed_transcription/ost_fast.py:25:0: C0103: Class name "xf_transcriptor" doesn't conform to PascalCase naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:33:8: C0103: Attribute name "Host" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:34:8: C0103: Attribute name "RequestUriCreate" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:35:8: C0103: Attribute name "RequestUriQuery" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:38:12: C0103: Attribute name "urlCreate" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:39:12: C0103: Attribute name "urlQuery" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:43:8: C0103: Attribute name "HttpMethod" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:44:8: C0103: Attribute name "APPID" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:45:8: C0103: Attribute name "Algorithm" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:46:8: C0103: Attribute name "HttpProto" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:47:8: C0103: Attribute name "UserName" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:48:8: C0103: Attribute name "Secret" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:49:8: C0103: Attribute name "FilePath" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:53:8: C0103: Attribute name "Date" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:55:8: C0103: Attribute name "BusinessArgsCreate" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:25:0: R0902: Too many instance attributes (15/7) (too-many-instance-attributes)
xunfei_speed_transcription/ost_fast.py:68:8: C0103: Variable name "m" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:63:4: R0201: Method could be a function (no-self-use)
xunfei_speed_transcription/ost_fast.py:72:4: C0103: Argument name "dt" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:72:4: R0201: Method could be a function (no-self-use)
xunfei_speed_transcription/ost_fast.py:84:4: C0103: Method name "generateSignature" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:168:15: W0703: Catching too general exception Exception (broad-except)
xunfei_speed_transcription/ost_fast.py:162:12: R1705: Unnecessary "else" after "return" (no-else-return)
xunfei_speed_transcription/ost_fast.py:168:8: C0103: Variable name "e" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:153:4: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
xunfei_speed_transcription/ost_fast.py:161:12: W0612: Unused variable 'interval' (unused-variable)
xunfei_speed_transcription/ost_fast.py:153:4: R0201: Method could be a function (no-self-use)
xunfei_speed_transcription/ost_fast.py:182:4: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
xunfei_speed_transcription/ost_fast.py:217:12: R1723: Unnecessary "elif" after "break" (no-else-break)
xunfei_speed_transcription/ost_fast.py:223:20: C0103: Variable name "a" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/ost_fast.py:204:12: W0201: Attribute 'fileurl' defined outside __init__ (attribute-defined-outside-init)
xunfei_speed_transcription/ost_fast.py:206:12: W0201: Attribute 'fileurl' defined outside __init__ (attribute-defined-outside-init)
************* Module xunfei_speed_transcription.seve_file
xunfei_speed_transcription/seve_file.py:50:0: C0301: Line too long (111/100) (line-too-long)
xunfei_speed_transcription/seve_file.py:57:0: C0301: Line too long (116/100) (line-too-long)
xunfei_speed_transcription/seve_file.py:77:0: C0301: Line too long (104/100) (line-too-long)
xunfei_speed_transcription/seve_file.py:112:0: C0301: Line too long (104/100) (line-too-long)
xunfei_speed_transcription/seve_file.py:163:0: C0301: Line too long (118/100) (line-too-long)
xunfei_speed_transcription/seve_file.py:1:0: C0114: Missing module docstring (missing-module-docstring)
xunfei_speed_transcription/seve_file.py:18:0: C0103: Constant name "lfasr_host" doesn't conform to UPPER_CASE naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:20:0: C0103: Constant name "api_init" doesn't conform to UPPER_CASE naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:21:0: C0103: Constant name "api_upload" doesn't conform to UPPER_CASE naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:22:0: C0103: Constant name "api_cut" doesn't conform to UPPER_CASE naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:23:0: C0103: Constant name "api_cut_complete" doesn't conform to UPPER_CASE naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:24:0: C0103: Constant name "api_cut_cancel" doesn't conform to UPPER_CASE naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:26:0: C0103: Constant name "file_piece_sice" doesn't conform to UPPER_CASE naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:30:0: C0115: Missing class docstring (missing-class-docstring)
xunfei_speed_transcription/seve_file.py:40:4: C0116: Missing function or method docstring (missing-function-docstring)
xunfei_speed_transcription/seve_file.py:40:4: R0201: Method could be a function (no-self-use)
xunfei_speed_transcription/seve_file.py:44:4: C0116: Missing function or method docstring (missing-function-docstring)
xunfei_speed_transcription/seve_file.py:45:8: C0103: Variable name "m" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:44:4: R0201: Method could be a function (no-self-use)
xunfei_speed_transcription/seve_file.py:50:4: C0116: Missing function or method docstring (missing-function-docstring)
xunfei_speed_transcription/seve_file.py:50:4: R0913: Too many arguments (7/5) (too-many-arguments)
xunfei_speed_transcription/seve_file.py:50:4: R0914: Too many local variables (17/15) (too-many-locals)
xunfei_speed_transcription/seve_file.py:51:8: C0103: Variable name "u" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:50:102: W0613: Unused argument 'body' (unused-argument)
xunfei_speed_transcription/seve_file.py:73:4: C0116: Missing function or method docstring (missing-function-docstring)
xunfei_speed_transcription/seve_file.py:82:15: W0703: Catching too general exception Exception (broad-except)
xunfei_speed_transcription/seve_file.py:82:8: C0103: Variable name "e" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:82:8: W0612: Unused variable 'e' (unused-variable)
xunfei_speed_transcription/seve_file.py:88:4: C0116: Missing function or method docstring (missing-function-docstring)
xunfei_speed_transcription/seve_file.py:97:4: C0116: Missing function or method docstring (missing-function-docstring)
xunfei_speed_transcription/seve_file.py:97:4: R0914: Too many local variables (16/15) (too-many-locals)
xunfei_speed_transcription/seve_file.py:106:58: C0103: Variable name "f" doesn't conform to snake_case naming style (invalid-name)
xunfei_speed_transcription/seve_file.py:97:4: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
xunfei_speed_transcription/seve_file.py:149:4: C0116: Missing function or method docstring (missing-function-docstring)
xunfei_speed_transcription/seve_file.py:154:4: C0116: Missing function or method docstring (missing-function-docstring)
xunfei_speed_transcription/seve_file.py:154:4: R0914: Too many local variables (19/15) (too-many-locals)
xunfei_speed_transcription/seve_file.py:194:20: R1722: Consider using sys.exit() (consider-using-sys-exit)
xunfei_speed_transcription/seve_file.py:1:0: R0801: Similar lines in 2 files
==aws_streaming_transcription.live_stream:14
==aws_streaming_transcription.prerecorded_stream:37
class MyEventHandler(TranscriptResultStreamHandler):
    def __init__(self, output_stream):
        super().__init__(output_stream)
        self.all_results = []
        self.last = "***"

    async def handle_transcript_event(self, transcript_event: TranscriptEvent):
        results = transcript_event.transcript.results
        for result in results:
            for alt in result.alternatives:
                if self.last in alt.transcript:
                    self.all_results[-1] = alt.transcript
                else:
                    self.all_results.append(alt.transcript)
                self.last = alt.transcript

def similarity(a, b):
    return SequenceMatcher(None, a, b).ratio()

def select_result(sentences):
    # filter and concact
    s = ""
    last = ""
    for cur in sentences:
        if similarity(last, cur) < 0.5: # not similar: concact
            s += last
            last = cur
        elif len(last) < len(cur): # similar and longer: update
            last = cur
    s += last
    return ''.join(s)

 (duplicate-code)
xunfei_speed_transcription/seve_file.py:1:0: R0801: Similar lines in 2 files
==aws_streaming_transcription.live_stream:78
==aws_streaming_transcription.prerecorded_stream:93
    handler = MyEventHandler(stream.output_stream)
    await asyncio.gather(write_chunks(), handler.handle_events())

    s = select_result(handler.all_results)
    print("transcription success...")
    print(s)

    return s (duplicate-code)

------------------------------------------------------------------
Your code has been rated at 5.72/10 (previous run: 6.74/10, -1.02)

